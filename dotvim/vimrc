call pathogen#runtime_append_all_bundles()
call pathogen#helptags()

" look for tags up the file path
set tags=tags;/

set autoindent
set laststatus=2
set backspace=2
set cursorline
set expandtab
set foldlevel=10
set foldmethod=indent
set hlsearch
set ignorecase
set incsearch
set mouse=c
set nobackup
set nocompatible
set noerrorbells
set nohidden
set nowritebackup
set number
set ruler
set scrolloff=5
set shiftwidth=4
set showcmd
set showmatch
set smartcase
set smarttab
set softtabstop=4
set t_Co=256
set tabstop=4
set viminfo='20,\"50
set visualbell 
" set listchars=tab:▸\ ,eol:¬
" set list

colorscheme solarized
syntax on
filetype on
filetype plugin on

autocmd FileType python call SetPython()
function! SetPython() 
    setlocal keywordprg=pydoc
    setlocal makeprg=pyflakes\ %   
    setlocal errorformat=%+G\ \ File\ \"%f\"\\,\ line\ %l\\,\ in\ %m
    nmap <C-c><C-c> :!pyflakes %
    nmap <C-c><C-t> :!nosetests %
    autocmd BufWritePre *.py %s/\s\+$//e
    highlight OverLength ctermbg=darkred ctermfg=white guibg=#592929
    match OverLength /\%81v.\+/
    abbreviate prd print "\033[91m*** [DEBUG] \033[0m
    abbreviate pdb import pdb; pdb.set_trace()
endfunction

nmap <C-c><C-d> :r !date "+\%Y\%m\%d"<CR>

inoremap jk <Esc>
noremap j gj
noremap k gk

let mapleader = ","

" window movement
nmap <silent> <leader>k <C-W>k
nmap <silent> <leader>j <C-W>j
nmap <silent> <leader>h <C-W>h
nmap <silent> <leader>l <C-W>l

" select paste text
noremap <leader>v V`]

" open tab
nmap <silent> <leader>gd :tabnew %:h/<CR>           " open current directory in new tab
nmap <silent> <leader>gf :tabnew <cfile><CR>        " open file under cursor in new tab

" tab movement
"nmap <silent> th :tabprevious<CR>
"nmap <silent> tl :tabnext<CR>
nmap <silent> <leader>th :tabprevious<CR>
nmap <silent> <leader>tl :tabnext<CR>

" some goodies from https://github.com/nelstrom/dotfiles/blob/master/vimrc
" nmap <silent> <leader>l :set list!<CR>
" nmap <silent> <leader>w :set wrap!<CR>
" nmap <silent> <leader>s :set spell!<CR>
" nmap <silent> <leader>n :silent :nohlsearch<CR>

" window switching

" tab switching
" map <D-S-]> gt
" map <D-S-[> gT
" map <D-1> 1gt
" map <D-2> 2gt
" map <D-3> 3gt
" map <D-4> 4gt
" map <D-5> 5gt
" map <D-6> 6gt
" map <D-7> 7gt
" map <D-8> 8gt
" map <D-9> 9gt
" map <D-0> :tablast<CR>

" auto-resize splits on window resize
autocmd VimResized * exe "normal! \<c-w>="
" delete hidden buffers
autocmd BufReadPost fugitive://* set bufhidden=delete
" show git branch in status line
set statusline=%<%f\ %h%m%r%{fugitive#statusline()}%=%-14.(%l,%c%V%)\ %P

" remap :
noremap ; :

